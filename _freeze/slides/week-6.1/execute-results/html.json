{
  "hash": "74dc8dc2d8d180801082a76da2b3968b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Describing Distributions\ndate: today\ndate-format: long\nfooter: \"[IAFF 6501 Website](https://quant4ia.rocks/)\"\nlogo: images/iaff6501-logo.png\nformat:\n  revealjs:\n    theme: [simple, custom.scss]\n    transition: fade\n    slide-number: true\n    #multiplex: true\n    chalkboard: true\nexecute:\n  echo: false\n  message: false\n  warning: false\n  freeze: auto\n---\n\n\n\n# Measuring Spread\n\n## Why Measure and Visualize Spread?\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week-6.1_files/figure-revealjs/spread-1.png){width=960}\n:::\n:::\n\n\n# IQR\n\n## What is a Range?\n\n<br>\n\n-   Range (min and max values)\n-   Not ideal b/c does not tell us much about where most of the values are located\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvdem2022 |>\n  summarize(min = min(polyarchy),\n            max = max(polyarchy))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    min   max\n1 0.015 0.918\n```\n\n\n:::\n:::\n\n\n## Interquartile Range\n\nIQR: 25th percentile - 75th percentile\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](week-6.1_files/figure-revealjs/unnamed-chunk-1-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Interquartile Range\n\n- The middle 50 percent of the countries in the data lie between 0.262 and 0.747\n- The IQR (0.485) is the difference between the Q3 and Q1 values \n\n\n::: {.cell}\n\n```{.r .cell-code}\nvdem2022 %>% \n  summarize(IQRlow =  quantile(polyarchy, .25),\n            IQRhigh = quantile(polyarchy, .75),\n            IQRlength = IQR(polyarchy)\n          )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  IQRlow IQRhigh IQRlength\n1  0.259  0.7485    0.4895\n```\n\n\n:::\n:::\n\n\n## Box Plot\n\n<br>\n\n- A box plot is a graphical representation of the distribution based on the median and quartiles\n- It is a standardized way of displaying the distribution of data based on a five number summary: minimum, first quartile, median, third quartile, and maximum\n\n## Box Plot\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(vdem2022, aes(x = \"\", y = polyarchy)) +\n  geom_boxplot(fill = \"steelblue\") + \n   labs(\n    x = \"\", \n    y = \"Electoral Democracy\", \n    title = \"Distribution of Electoral Democracy in 2022\", \n    caption = \"Source: V-Dem Institute\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](week-6.1_files/figure-revealjs/boxplot-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n# Standard Deviation\n\n## Measure of Spead: Standard Deviation\n\n<br>\n\n-   Can think of it as something like the \"average distance\" of each data point from the mean\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvdem2022 |>\n  summarize(mean = mean(polyarchy),\n            stdDev = sd(polyarchy))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      mean    stdDev\n1 0.496514 0.2629688\n```\n\n\n:::\n:::\n\n\n## Standard Deviation\n\n<br>\n\n- A low standard deviation indicates that the values tend to be close to the mean\n- A high standard deviation indicates that the values are spread out over a wider range\n\n## Starting with Variance\n\n<br>\n\n- Variance is a step towards calculating the standard deviation.\n- It quantifies the average squared deviation of each number from the mean of the data set.\n\n## Calculating Deviation from the Mean\n\n- First, calculate the mean ($\\bar{X}$) of the dataset.\n- For each data point ($X_i$), calculate its deviation from the mean: $$e_i = X_i - \\bar{X}$$\n  - Example with a mean of 5:\n    - For a data point where $(X_i = 0): (0 - 5 = -5)$\n    - For a data point where $(X_i = 10): (10 - 5 = 5)$\n\n## Squaring the Deviations\n\n- Squaring each deviation ($e_i$) to eliminate negative values: $$e_i^2 = (X_i - \\bar{X})^2$$\n- Summing up all squared deviations: $$\\sum_{i=1}^{n} (X_i - \\bar{X})^2$$\n- This sum represents the total squared deviation from the mean.\n\n## Calculating the Variance\n\n<br>\n\n- Divide the total squared deviation by $(n-1)$ (to account for the sample variance): $$\\text{Variance} = \\frac{1}{n-1} \\sum_{i=1}^{n} (X_i - \\bar{X})^2$$\n- Using $(n-1)$ ensures an unbiased estimate of the population variance when calculating from a sample.\n\n## Deriving the Standard Deviation\n\n<br>\n\n- The standard deviation is the square root of the variance: $$s = \\sqrt{\\frac{1}{n-1} \\sum_{i=1}^{n} (X_i - \\bar{X})^2}$$\n- Taking the square root converts the variance back to the units of the original data.\n\n## Standard Deviation Simple Example\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx = c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\ne <- x - mean(x)\ne\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] -5 -4 -3 -2 -1  0  1  2  3  4  5\n```\n\n\n:::\n:::\n\n\n## Standard Deviation Simple Example\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx = c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\ne_squared <- e^2\ne_squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 25 16  9  4  1  0  1  4  9 16 25\n```\n\n\n:::\n:::\n\n\n## Standard Deviation Simple Example\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx = c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\nsum_e_squared <- sum(e_squared)\nsum_e_squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 110\n```\n\n\n:::\n:::\n\n\n## Standard Deviation Simple Example\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvariance <- sum_e_squared/(length(x)-1)\nvariance\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 11\n```\n\n\n:::\n:::\n\n\n## Standard Deviation Simple Example\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstandard_dev <- sqrt(variance)\nstandard_dev\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.316625\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.316625\n```\n\n\n:::\n:::\n\n\n## Your Turn!\n\n<br>\n\n- Calculate measures of spread for the `polyarchy` variable in the V-Dem data (mean, median, IQR, standard deviation)\n- How would you interpret these measures?\n- Try a box plot for the `polyarchy` variable\n- Try another variable in the V-Dem data\n- How does it compare to `polyarchy`?\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<countdown-timer class=\"countdown\" id=\"timer2\" minutes=\"5\" seconds=\"0\" update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:10%;\"></countdown-timer>\n```\n\n:::\n:::\n\n\n# Groups\n\n## Calculating Statistics by groups\n\n<br>\n\n-   What if we want to describe electoral democracy and see how it differs by some different variable? For example, by world region, or by year?\n-   In this case we want to combine numerical summaries with categorical variables\n-   This brings us back to bar chart\n\n## Calculating Statistics by Groups\n\n-   Let's calculate the mean and median of electoral democracy in each world region\n-   For this, we add the *group_by()* to our previous code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nvdem2022 |>\n  group_by(region) |>\n  summarize(mean_dem = mean(polyarchy),\n            median_dem = median(polyarchy))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  region         mean_dem median_dem\n  <chr>             <dbl>      <dbl>\n1 Africa            0.402      0.381\n2 Asia              0.424      0.414\n3 Eastern Europe    0.535      0.568\n4 Latin America     0.605      0.683\n5 Middle East       0.230      0.207\n6 The West          0.855      0.853\n```\n\n\n:::\n:::\n\n\n## Calculating Statistics by Groups\n\n-   Let's store our statistics as a new data object, *democracy_region*\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1\"}\ndemocracy_region <- vdem2022 |> \n  group_by(region) |>\n  summarize(mean_dem = mean(polyarchy),\n            median_dem = median(polyarchy))\n\ndemocracy_region\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  region         mean_dem median_dem\n  <chr>             <dbl>      <dbl>\n1 Africa            0.402      0.381\n2 Asia              0.424      0.414\n3 Eastern Europe    0.535      0.568\n4 Latin America     0.605      0.683\n5 Middle East       0.230      0.207\n6 The West          0.855      0.853\n```\n\n\n:::\n:::\n\n\n## Visualize using our Bar Chart Skills\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(democracy_region, aes(x = reorder(region, -mean_dem), y = mean_dem)) +\n  geom_col(fill = \"steelblue\") + \n  labs(\n    x = \"Region\", \n    y = \"Mean Polyarchy Score\", \n    title = \"Democracy by region, 1990 - present\", \n    caption = \"Source: V-Dem Institute\"\n    ) + \n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](week-6.1_files/figure-revealjs/group-by-3-1.png){width=960}\n:::\n:::\n\n\n## Numerical Variable by Group\n\nHow should we interpret this plot?\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(ggridges)\n#library(forcats)\n  ggplot(vdem2022, aes(x = polyarchy, y = region, fill = region)) +\n    geom_density_ridges() +\n  labs(\n    x = \"Electoral Democracy\",\n    y = \"Region\",\n    title = \"A Ridge Plot\",\n    caption = \"Source: V-Dem Institute\",\n  ) +\n  scale_fill_viridis_d() +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](week-6.1_files/figure-revealjs/ridge-plot-1.png){width=960}\n:::\n:::\n\n\n## Your Turn!\n\n<br>\n\n- Make a bar chart summarizing `polyarchy` or some other V-Dem variable\n- Now try your hand at a ridge plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<countdown-timer class=\"countdown\" id=\"timer3\" minutes=\"5\" seconds=\"0\" update-every=\"1\" tabindex=\"0\" style=\"right:10%;bottom:10%;\"></countdown-timer>\n```\n\n:::\n:::\n\n",
    "supporting": [
      "week-6.1_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.6.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.6.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}